<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>6.5. Installation des Icinga Web Frontend</title>
<link rel="stylesheet" href="../stylesheets/icinga-docs.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1">
<meta name="keywords" content="Supervision, Icinga, Nagios, Linux">
<link rel="home" href="index.html" title="Icinga Version 1.14 Dokumentation">
<link rel="up" href="ch06.html" title="Kapitel 6. Die Benutzeroberflächen">
<link rel="prev" href="cgicmd.html" title="6.4. Ausführen von Classic UI-Modulen (CGIs) auf der Kommandozeile">
<link rel="next" href="icinga-web-config.html" title="6.6. Konfigurationsübersicht Icinga Web">
<script src="../js/jquery-min.js" type="text/javascript"></script><script src="../js/icinga-docs.js" type="text/javascript"></script>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<CENTER><IMG src="../images/logofullsize.png" border="0" alt="Icinga" title="Icinga"></CENTER>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">6.5. Installation des Icinga Web Frontend</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="cgicmd.html">Zurück</a> </td>
<th width="60%" align="center">Kapitel 6. Die Benutzeroberflächen</th>
<td width="20%" align="right"> <a accesskey="n" href="icinga-web-config.html">Weiter</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="section" title="6.5. Installation des Icinga Web Frontend">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="icinga-web-scratch"></a>6.5. Installation des Icinga Web Frontend</h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section">6.5.1. <a href="icinga-web-scratch.html#introduction">Einleitung</a></span></dt>
<dt><span class="section">6.5.2. <a href="icinga-web-scratch.html#prerequisites">Voraussetzungen</a></span></dt>
<dt><span class="section">6.5.3. <a href="icinga-web-scratch.html#install">Die Installation</a></span></dt>
<dt><span class="section">6.5.4. <a href="icinga-web-scratch.html#settings">Einstellungen</a></span></dt>
<dt><span class="section">6.5.5. <a href="icinga-web-scratch.html#useit">Testen</a></span></dt>
<dt><span class="section">6.5.6. <a href="icinga-web-scratch.html#webtroubleshooting">Test &amp; Fehler?</a></span></dt>
</dl></div>
  

  <div class="section" title="6.5.1. Einleitung">
<div class="titlepage"><div><div><h3 class="title">
<a name="introduction"></a>6.5.1. Einleitung</h3></div></div></div>
    

    <p>Das neue Icinga Web wird aktuell sehr stark weiterentwickelt, sodass sich diese Dokumentation unter Umständen noch ändern
    kann/wird. Falls Sie eine detaillierte Installationsanleitung benötigen, konsultieren Sie bitte <code class="filename">doc/INSTALL</code> aus dem
    Source-Paket. Mehr Informationen über die gesamte Architektur können Sie auf unserer Webseite nachlesen: <a class="link" href="http://www.icinga.org/architecture/" target="_top">https://www.icinga.com/architecture/</a> Falls Sie mehr über das Icinga Web-Development und die
    Modularchitektur wissen wollen, verfolgen Sie bitte stetig aktualisierte Einträge im Development-Wiki von Icinga Web: <a class="link" href="https://dev.icinga.org/projects/icinga-development/wiki#24-Icinga-Web" target="_top">Icinga Wiki</a></p>

    <p>Diese Installationsanleitung beschreibt die Installation von Icinga Web mit MySQL bzw. PostgreSQL als verwendeter
    Datenbank, außerdem wird Oracle unterstützt.</p>
  </div>

  <div class="section" title="6.5.2. Voraussetzungen">
<div class="titlepage"><div><div><h3 class="title">
<a name="prerequisites"></a>6.5.2. Voraussetzungen</h3></div></div></div>
    

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p><span class="bold"><strong>MySQL</strong></span></p>

        <p>Die Pakete mysql und php5 sind installiert (mit PEAR und CLI), Icinga samt IDOUtils läuft, dann ab zu 2., ansonsten
        bitte:</p>

        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
            <p><span class="bold"><strong>Ubuntu / Debian</strong></span></p>

            <pre class="screen"> #&gt; apt-get install php5 php5-cli php-pear php5-xmlrpc php5-xsl php5-mysql php5-ldap php-soap php5-gd php5-mysql</pre>

            <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
              <p>Neuere PHP-Versionen (&gt;= 5.5) werden (aus Lizenzgründen) mit einem separaten JSON-Paket ausgeliefert, so dass Sie das
              Paket separat installieren müssen.</p>

              <p>Prüfen Sie, ob das Modul bereits vorhanden ist:</p>

              <pre class="programlisting"> #&gt; php -m | grep -i json</pre>

              <p>Falls dort kein Modul ausgegeben wird, installieren Sie das Modul:</p>

              <pre class="programlisting"> #&gt; apt-get install php5-json</pre>
            </td></tr>
</table></div>
          </li>
<li class="listitem">
            <p><span class="bold"><strong>Fedora / RHEL / CentOS</strong></span></p>

            <p>Stellen Sie sicher, dass Sie ein Repository bzw. Pakete für PHP 5.2.3 und PCRE 7.6 haben - RHEL/CentOS &lt;= 5.x enthalten
            bisher lediglich PHP 5.1.6 und PCRE 6.6.</p>

            <pre class="screen"> #&gt; yum install php php-cli php-pear php-xmlrpc php-xsl php-pdo php-ldap php-soap php-gd php-mysql</pre>

            <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
              <p>Aktuelle Pakete für PHP und PRCE finden Sie beispielsweise unter: <a class="link" href="http://blog.famillecollet.com/pages/Config-en" target="_top">Les RPM de Remi</a> oder <a class="link" href="http://www.jasonlitka.com/category/yum-repo-news" target="_top">http://www.jasonlitka.com/category/yum-repo-news/</a></p>
            </td></tr>
</table></div>
          </li>
<li class="listitem">
            <p><span class="bold"><strong>OpenSuSE</strong></span></p>

            <p>Benutzen Sie yast, um die Pakete "php5", "php5-pear", "php5-xmlrpc", "php5-xsl", "php5-json", "php5-sockets",
            "php5-mysql", "php5-soap", "php5-gettext", "php5-pdo", "php5-ldap", "php5-gd" und "apache2-mod_php5" zu installieren. Die CLI
            ist im php5-Paket enthalten.</p>

            <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
              <p>Zumindest bei SLES10 SP2 fehlt die Funktion hash_hmac.</p>
            </td></tr>
</table></div>

            <p>Alternativ können Sie auch zypper verwenden</p>

            <pre class="screen"> #&gt; zypper install php5 php5-pear php5-xmlrpc php5-xsl php5-json php5-sockets \
    php5-mysql php5-soap php5-gettext php5-pdo php5-ldap php5-gd apache2-mod_php5</pre>
          </li>
</ul></div>
      </li>
<li class="listitem">
        <p><span class="bold"><strong>PostgreSQL</strong></span></p>

        <p>Die Pakete pgsql und php5 sind installiert (mit PEAR und CLI), Icinga samt IDOUtils läuft, dann ab zu 2., ansonsten
        bitte:</p>

        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
            <p><span class="bold"><strong>Ubuntu / Debian</strong></span></p>

            <pre class="screen"> #&gt; apt-get install php5 php5-cli php-pear php5-xmlrpc php5-xsl php5-ldap php5-soap php5-gd php5-pgsql</pre>
          </li>
<li class="listitem">
            <p><span class="bold"><strong>Fedora / RHEL / CentOS</strong></span></p>

            <p>Stellen Sie sicher, dass Sie ein Repository bzw. Pakete für PHP 5.2.3 und PCRE 7.6 haben - RHEL/CentOS &lt;= 5.x enthalten
            bisher lediglich PHP 5.1.6 und PCRE 6.6.</p>

            <pre class="screen"> #&gt; yum install php php-cli php-pear php-xmlrpc php-xsl php-pdo php-ldap php-gd php-pgsql</pre>

            <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
              <p>Aktuelle Pakete für PHP und PRCE finden Sie beispielsweise unter: <a class="link" href="http://blog.famillecollet.com/pages/Config-en" target="_top">Les RPM de Remi</a> oder <a class="link" href="http://www.jasonlitka.com/category/yum-repo-news" target="_top">http://www.jasonlitka.com/category/yum-repo-news/</a></p>
            </td></tr>
</table></div>
          </li>
<li class="listitem">
            <p><span class="bold"><strong>OpenSuSE</strong></span></p>

            <p>Benutzen Sie yast, um die Pakete "php5", "php5-pear", "php5-xmlrpc", "php5-xsl", "php5-json", "php5-sockets",
            "php5-pgsql", "php5-soap", "php5-gettext", "php5-pdo", "php5-ldap", "php5-gd" und "apache2-mod_php5" zu installieren. Die CLI
            ist im php5-Paket enthalten.</p>

            <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
              <p>Zumindest bei SLES10 SP2 fehlt die Funktion hash_hmac.</p>
            </td></tr>
</table></div>

            <p>Alternativ können Sie auch zypper verwenden</p>

            <pre class="screen"> #&gt; zypper install php5 php5-pear php5-xmlrpc php5-xsl php5-json php5-sockets \
    php5-mysql php5-soap php5-gettext php5-pdo php5-ldap php5-gd apache2-mod_php5</pre>
          </li>
</ul></div>
      </li>
</ul></div>

    <p>Die Installation von Icinga mit den IDOUtils ist in der <a class="link" href="quickstart-idoutils.html" title="2.6. Icinga-Schnellstart mit IDOUtils">Icinga-Schnellstartanleitung</a> beschrieben</p>
  </div>

  <div class="section" title="6.5.3. Die Installation">
<div class="titlepage"><div><div><h3 class="title">
<a name="install"></a>6.5.3. Die Installation</h3></div></div></div>
    

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>Laden Sie das Archiv herunter von <a class="link" href="http://www.icinga.org/download/" target="_top">http://www.icinga.org/download/</a>.
        Falls Sie eine Funktion benötigen, die nur in der aktuellen Entwicklerversion vorhanden ist, dann klonen Sie von
        icinga-web.git:</p>

        <pre class="screen"> #&gt; git clone git://git.icinga.org/icinga-web.git</pre>

        <p>Extrahieren Sie das Archiv (tarball) wie folgt:</p>

        <pre class="screen"> #&gt; tar xzvf icinga-web-1.14.tar.gz</pre>

        <p>Wechseln Sie in das Verzeichnis:</p>

        <pre class="screen"> #&gt; cd icinga-web-1.14</pre>

        <p>Icinga Web stellt verschiedene configure-Optionen zur Verfügung z.B.</p>

        <pre class="screen"> #&gt; ./configure
               --prefix=/usr/local/icinga-web
               --with-web-user=www-data
               --with-web-group=www-data
               --with-web-path=/icinga-web
               --with-web-apache-path=/etc/apache2/conf.d
               --with-db-type=mysql
               --with-db-host=localhost
               --with-db-port=3306
               --with-db-name=icinga_web
               --with-db-user=icinga_web
               --with-db-pass=icinga_web
               --with-conf-dir=etc/conf.d
               --with-log-dir=log
               --with-api-subtype=TYPE DB driver or network connection
               --with-api-host=HOST Host to connect (DB or other) (default localhost)
               --with-api-port=PORT Port for connection (default 3306)
               --with-api-socket=PATH Path to socket (default none)</pre>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Bitte beachten Sie, dass Sie hier die Icinga Web-Datenbank konfigurieren, und nicht die Icinga-IDOUtils-Datenbank! User- und
          Gruppenname des Web-Prozesses sind abhängig von der verwendeten Distribution.</p>
        </td></tr>
</table></div>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Beginnend mit Apache 2.4 hat sich der Standard-Konfigurationsordner von <code class="filename">/etc/apache2/conf.d</code> in
          <code class="filename">/etc/apache2/conf-available</code> geändert, so dass Sie abhängig von Ihrer Distribution (testing-Versionen von
          Debian / Ubuntu) dem Aufruf von configure diese Option hinzufügen müssen </p>
<pre class="screen">#&gt; ./configure --with-web-apache-path=/etc/apache2/conf-available</pre>
        </td></tr>
</table></div>

        <p>Alle Konfigurationsmöglichkeiten sehen Sie mit:</p>

        <pre class="screen"> #&gt; ./configure --help</pre>

        <p>Um Icinga Web für PostgreSQL zu konfigurieren, führen Sie folgenden Befehl aus:</p>

        <pre class="screen"> #&gt; ./configure --with-db-type=pgsql --with-db-port=5432</pre>

        <p>Falls auch Icinga mit pgsql läuft, sind die api-Optionen mit anzugeben:</p>

        <pre class="screen"> #&gt; ./configure --with-db-type=pgsql --with-db-port=5432 \
 --with-api-subtype=pgsql --with-api-port=5432</pre>

        <p>Ohne weitere Optionen wird das Icinga Webinterface mit:</p>

        <pre class="screen"> #&gt; ./configure
 #&gt; make install</pre>

        <p>unter <code class="filename">/usr/local/icinga-web</code> installiert. Das kann eine Weile dauern, also bitte nicht ungeduldig werden
        ;-)</p>

        <p>Installation der neuen Apache-Konfiguration</p>

        <pre class="screen"> #&gt; make install-apache-config</pre>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Beginnend mit Apache 2.4 (testing-Versionen von Debian / Ubuntu) müssen Sie die Konfiguration
          aktivieren</p>
<pre class="screen">#&gt; a2enconf icinga-web</pre>
        </td></tr>
</table></div>

        <p>Wenn Sie das nicht möchten, können Sie das bisherige Verfahren nutzen, durch die Eingabe von:</p>

        <pre class="screen"> #&gt; make install-javascript</pre>

        <p>Dies installiert die bisherigen Symlinks.</p>

        <p>Erzeugen des Installationsberichtes:</p>

        <pre class="screen"> #&gt; make install-done

 Installation of icinga-web succeeded.
 Please check the new Apache2 configuration (etc/apache2/icinga-web.conf).</pre>

        <p>Passwort zurücksetzen:</p>

        <pre class="screen"> #&gt; make icinga-reset-password</pre>

        <p>Setzt das Passwort für jeden Account auf icinga-web zurück.</p>
      </li>
<li class="listitem">
        <p><a name="selinuxsettings"></a><span class="bold"><strong>Anpassen der SELinux-Einstellungen</strong></span></p>

        <p>RHEL und ähnliche Distributionen wie Fedora oder CentOS werden mit installiertem SELinux (Security
        Enhanced Linux) ausgeliefert und laufen im "Enforcing"-Modus. Dies kann zu "Internal Server Error"-Fehlern führen, wenn Sie
        versuchen, die Icinga-CGIs aufzurufen.</p>

        <p>Schauen Sie, ob SELinux im Enforcing-Modus läuft.</p>

        <pre class="screen"> #&gt; getenforce</pre>

        <p>Setzen Sie SELinux in den "Permissive"-Modus.</p>

        <pre class="screen"> #&gt; setenforce 0</pre>

        <p>Damit diese Änderung dauerhaft wird, müssen Sie diese Einstellung in <span class="emphasis"><em>/etc/selinux/config</em></span> anpassen und das
        System neustarten.</p>

        <p>Statt SELinux zu deaktivieren oder es in den Permissive-Modus zu versetzen, können Sie den folgenden Befehl benutzen,
        um die CGIs im Enforcing/Targeted-Modus laufen zu lassen. Der <span class="emphasis"><em>semanage</em></span>-Befehl wird automatisch Einträge in die
        Datei <code class="filename">/etc/selinux/targeted/contexts/files/file_contexts.local</code> einfügen:</p>

        <pre class="programlisting"> #&gt; semanage fcontext -a -t httpd_sys_content_t '/usr/local/icinga-web/app(/.*)?'
 #&gt; semanage fcontext -a -t httpd_sys_content_t '/usr/local/icinga-web/lib(/.*)?'
 #&gt; semanage fcontext -a -t httpd_sys_content_t '/usr/local/icinga-web/pub(/.*)?'
 #&gt; semanage fcontext -a -t httpd_sys_rw_content_t '/usr/local/icinga-web/app/cache(/.*)?'
 #&gt; semanage fcontext -a -t httpd_sys_rw_content_t '/usr/local/icinga-web/log(/.*)?'</pre>

        <p>Sobald Sie die notwendigen Kontexte definiert haben, müssen die Einträge aktiviert werden.</p>

        <pre class="programlisting"> #&gt; chcon -R /usr/local/icinga-web</pre>

        <p>Einzelheiten finden Sie unter <a class="link" href="http://www.linuxquestions.org/questions/blog/sag47-492023/selinux-and-icinga-34926/" target="_top">http://www.linuxquestions.org/questions/blog/sag47-492023/selinux-and-icinga-34926/</a>
        (englisch).</p>
      </li>
<li class="listitem">
        <p><span class="bold"><strong>PHP-Abhängigkeiten</strong></span></p>

        <p>Bitte prüfen Sie die PHP-Abhängigkeiten mit:</p>

        <pre class="screen"> #&gt; make testdeps</pre>

        <p>Alle "require"-Tests sollten erfolgreich sein. Eventuell müssen Sie die <code class="filename">php.ini</code> anpassen:</p>

        <p>Die "magic_quote_gpc" in der Apache- und der CLI-<code class="filename">php.ini</code> auf "Off" setzen! Evtl. müssen Sie auch
        "safe_mode" auf "off" setzen (PHP &lt; 5.3.0). Bitte beachten Sie, dass die Pfade von der Distribution abhängig sind.</p>

        <pre class="screen"> #&gt; vi /etc/php5/apache/php.ini</pre>

        <pre class="programlisting">   magic_quotes_gpc = off
   safe_mode = off</pre>

        <pre class="screen"> #&gt; vi /etc/php5/cli/php.ini</pre>

        <pre class="programlisting">   magic_quotes_gpc = off</pre>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Beide Dateien müssen vorhanden sein, sonst erhalten Sie eine Agavi-Meldung, weil der Default von magic_quotes_gpc "ON"
          ist.</p>
        </td></tr>
</table></div>
      </li>
<li class="listitem">
        <p><span class="bold"><strong>Datenbank-Installation</strong></span></p>

        <p>Icinga Web benötigt eine eigene Datenbank, z.B. icinga_web. Sie können die Datenbank von IDOUtils mitverwenden, dies
        wird allerdings nicht empfohlen, um bei Upgrades keine Probleme zu haben.</p>

        <p><span class="bold"><strong>Anlegen des Datenbankbenutzers:</strong></span></p>

        <p>Der Benutzer muss mindestens diese Privilegien haben: SELECT, UPDATE, INSERT, DELETE.</p>

        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
            <p><span class="bold"><strong>MySQL</strong></span></p>

            <pre class="screen"> # mysql -u root -p

 mysql&gt; CREATE DATABASE icinga_web;

 	   GRANT SELECT, INSERT, UPDATE, DELETE, DROP, CREATE VIEW, INDEX, EXECUTE ON icinga_web.* TO 'icinga_web'@'localhost' IDENTIFIED BY 'icinga_web';

        quit</pre>
          </li>
<li class="listitem">
            <p><span class="bold"><strong>PostgreSQL</strong></span></p>

            <pre class="screen"> #&gt; su - postgres

 $ psql

 postgres=# CREATE USER icinga_web;

 postgres=# ALTER USER icinga_web WITH PASSWORD 'icinga_web' CREATEDB;

 &lt;Ctrl&gt;+&lt;D&gt;</pre>
          </li>
</ul></div>

        <p><span class="bold"><strong>Anlegen der Datenbank</strong></span></p>

        <p>Icinga Web bringt Doctrine mit, womit in Zukunft die Datenbank verwaltet wird. Mittels 'make' kann diese initialisiert oder
        gelöscht werden.</p>

        <pre class="screen"> #&gt; make db-initialize      - legt eine Icinga Web Datenbank an
                            - und füllt diese mit initialen Werten</pre>

        <pre class="screen"> #&gt; make db-drop            - löscht die komplette Datenbank, inklusive
                            - Security-Abfrage, um ungewolltes Löschen zu verhindern</pre>

        <p>Um die Datenbankanlege-Befehle nutzen zu können, müssen Sie dem Benutzer, der diese DB-Befehle ausführen soll, auch die
        entsprechenden Privilegien zuordnen. Falls derjenige Benutzer, der für das Icinga-Web in <code class="filename">configure</code> vorgesehen
        wurde, zu wenig Berechtigungen hat, gibt es in 'make' eine Abfrage, ob Sie einen anderen Benutzer mit mehr Privilegien verwenden
        wollen. Falls dies nicht funktioniert, sollten Sie <code class="filename">etc/build.properties</code> editieren und einen root-Benutzer
        einfügen.</p>

        <p>Das Installieren der Datenbank funktioniert mittels:</p>

        <pre class="screen"> #&gt; make db-initialize</pre>

        <p><span class="bold"><strong>Manuelles Anlegen der Datenbank</strong></span></p>

        <p>Sofern Sie die Datenbank manuell installieren wollen, z.B. für Package building, so finden Sie unter
        &lt;/path/to/icinga-web/etc/schema/&gt; das zu importierende SQL-Script.</p>

        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
            <p><span class="bold"><strong>MySQL</strong></span></p>
<pre class="screen"> $ mysql -u root -p icinga_web  &lt; /path/to/icinga-web/etc/schema/mysql.sql</pre>
          </li>
<li class="listitem">
            <p><span class="bold"><strong>Oracle</strong></span> </p>
<pre class="screen"> #&gt; su - oracle
 $ sqlplus dbuser/dbpass
 SQL&gt; @oracle.sql</pre>
          </li>
<li class="listitem">
            <p><span class="bold"><strong>Postgresql</strong></span> </p>
<pre class="screen"> #&gt; su - postgres
 $ psql -U icinga_web -d icinga_web &lt; /path/to/icinga-web/etc/schema/pgsql.sql</pre>

            <p>Bitte editieren Sie außerdem die Datei <code class="filename">pg_hba.conf</code> und tragen Sie die folgenden Zeilen ein:</p>

            <pre class="screen"> #&gt; vi /etc/postgresql/9.x/main/pg_hba.conf</pre>

            <pre class="programlisting"> # database administrative login by UNIX sockets
 local all postgres ident

 # TYPE DATABASE USER CIDR-ADDRESS METHOD
 #icinga_web
 local icinga_web icinga_web trust

 # "local" is for Unix domain socket connections only
 local all all trust

 # IPv4 local connections
 host all all 127.0.0.1/32 trust

 # IPV6 local connections
 host all all ::1/128 trust</pre>

            <p>Denken Sie anschließend daran, PostgreSQL neu zu laden:</p>

            <pre class="screen"> #&gt; /etc/init.d/postgresql reload</pre>
          </li>
</ul></div>
      </li>
</ul></div>
  </div>

  <div class="section" title="6.5.4. Einstellungen">
<div class="titlepage"><div><div><h3 class="title">
<a name="settings"></a>6.5.4. Einstellungen</h3></div></div></div>
    

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p><span class="bold"><strong>Icinga-Web-Konfiguration</strong></span></p>

        <p>Im Normalfall können Sie die Datenbankeinstellungen während <code class="filename">configure</code> vornehmen. Sollten Sie diese
        allerdings anpassen oder im Fehlerfall kontrollieren wollen, öffnen Sie folgende Datei mit einem Editor Ihrer Wahl.</p>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Möglicherweise finden Sie es einfacher, beim Editieren von XML-Strukturen Syntax-Hightlighting zu benutzen, um zwischen
          Kommentaren und XML-Tags zu unterscheiden.</p>

          <p>Editieren Sie <code class="filename">/etc/vim/vimrc</code> </p>
<pre class="screen"> " Vim5 and later versions support syntax highlighting. Uncommenting the next
 " line enables syntax highlighting by default.
 syntax on</pre>
<p> oder <code class="filename">/etc/nanorc</code></p>
<pre class="screen"> ## HTML
 include "/usr/share/nano/html.nanorc"</pre>
        </td></tr>
</table></div>

        <pre class="screen"> #&gt; vi app/config/databases.xml</pre>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Optional: Ihre spezifischen Icinga Datenbankeinstellungen können Sie vornehmen in
          <code class="filename">etc/conf.d/database.xml</code> (oder dem web_conf_path-Ziel). Es gibt zwei Datenbanken: icinga_web (welche für die
          interne Verwaltung von icinga_web verwendet wird) und icinga, welche auf die Datenbank zeigt, in die ido2db schreibt. Diese
          Informationen bleiben während eines Update-Prozesses erhalten.</p>
        </td></tr>
</table></div>

        <pre class="programlisting">   &lt;databases default="icinga_web"&gt;
      &lt;database name="icinga_web" class="AgaviDoctrineDatabase"&gt;

         &lt;!--
            Doctrine dsn strings:

            http://www.doctrine-project.org/documentation/manual/1_1/en/introduction-to-connections
         --&gt;
         &lt;!-- ##### MySQL ##### --&gt;
         &lt;ae:parameter name="dsn"&gt;mysql://icinga_web:icinga_web@127.0.0.1:3306/icinga_web&lt;/ae:parameter&gt;
         &lt;!-- ##### PostgreSQL ##### --&gt;
         &lt;ae:parameter name="dsn"&gt;pgsql://icinga_web:icinga_web@localhost:5432/icinga_web&lt;/ae:parameter&gt;

         &lt;!-- Generic credentials  --&gt;
         &lt;!-- &lt;ae:parameter name="username"&gt;icinga_web&lt;/ae:parameter&gt; --&gt;
         &lt;!-- &lt;ae:parameter name="password"&gt;icinga_web&lt;/ae:parameter&gt; --&gt;

         &lt;!-- DB encoding type --&gt;
         &lt;ae:parameter name="charset"&gt;utf8&lt;/ae:parameter&gt;

         &lt;!--
            Doctrine_Manager configuration
         --&gt;
         &lt;ae:parameter name="manager_attributes"&gt;
            &lt;!-- This allows lazy loading of the models --&gt;
            &lt;ae:parameter name="Doctrine_Core::ATTR_MODEL_LOADING"&gt;CONSERVATIVE&lt;/ae:parameter&gt;
         &lt;/ae:parameter&gt;

         &lt;!-- The path to our models --&gt;
         &lt;ae:parameter name="load_models"&gt;%core.module_dir%/AppKit/lib/database/models/generated&lt;/ae:parameter&gt;
         &lt;ae:parameter name="models_directory"&gt;%core.module_dir%/AppKit/lib/database/models&lt;/ae:parameter&gt;

      &lt;/database&gt;

      &lt;-- Die Icinga Datenbank für ido2db --&gt;
      &lt;database name="icinga" class="AgaviDoctrineDatabase"&gt;

         &lt;!--
            Doctrine dsn strings:

            http://www.doctrine-project.org/documentation/manual/1_1/en/introduction-to-connections
         --&gt;
         &lt;!-- ##### MySQL ##### --&gt;
         &lt;ae:parameter name="dsn"&gt;mysql://icinga:icinga@127.0.0.1:3306/icinga&lt;/ae:parameter&gt;
         &lt;!-- ##### PostgreSQL ##### --&gt;
         &lt;ae:parameter name="dsn"&gt;pgsql://icinga:icinga@localhost:5432/icinga&lt;/ae:parameter&gt;

         &lt;!-- Generic credentials  --&gt;
         &lt;!-- &lt;ae:parameter name="username"&gt;icinga&lt;/ae:parameter&gt; --&gt;
         &lt;!-- &lt;ae:parameter name="password"&gt;icinga&lt;/ae:parameter&gt; --&gt;

         &lt;!-- DB encoding type --&gt;
         &lt;ae:parameter name="charset"&gt;utf8&lt;/ae:parameter&gt;

         &lt;!--
            Doctrine_Manager configuration
         --&gt;
         &lt;ae:parameter name="manager_attributes"&gt;
            &lt;!-- This allows lazy loading of the models --&gt;
            &lt;ae:parameter name="Doctrine_Core::ATTR_MODEL_LOADING"&gt;CONSERVATIVE&lt;/ae:parameter&gt;
         &lt;/ae:parameter&gt;

         &lt;!-- The path to our models --&gt;
         &lt;ae:parameter name="load_models"&gt;%core.module_dir%/Api/lib/database/models/generated&lt;/ae:parameter&gt;
         &lt;ae:parameter name="models_directory"&gt;%core.module_dir%/Api/lib/database/models&lt;/ae:parameter&gt;

      &lt;/database&gt;
   &lt;/databases&gt;
      </pre>

        <p>In der <code class="filename">access.xml</code> können Sie die Informationen zu Ihrer command-pipe, den Zugangsdaten und der
        Zugriffmethode (ssh oder via local console) angeben. Außerdem legen Sie fest, welche Icinga-Instanz welchem Host zugeordnet
        ist.</p>

        <pre class="programlisting">
        &lt;!-- Map your instances to hosts here --&gt;
        &lt;instances&gt;
            &lt;instance name="default"&gt;localhost&lt;/instance&gt;
        &lt;/instances&gt;
        &lt;!-- default location of the icinga pipe --&gt;
        &lt;defaults&gt;
            &lt;access&gt;
                &lt;write&gt;
                    &lt;files&gt;
                        &lt;resource name="icinga_pipe"&gt;/usr/local/icinga/var/rw/icinga.cmd&lt;/resource&gt;
                    &lt;/files&gt;
                &lt;/write&gt;
            &lt;/access&gt;
        &lt;/defaults&gt;

        &lt;!-- Hosts that can be accessed via the console interface --&gt;
        &lt;hosts&gt;
            &lt;host name="localhost"&gt;
                &lt;type&gt;local&lt;/type&gt;
                &lt;access useDefaults="true"&gt;

                &lt;/access&gt;
            &lt;/host&gt;

            &lt;!--  Example for ssh connection with user/password auth --&gt;
            &lt;host name="remot_host"&gt;
                &lt;type&gt;ssh&lt;/type&gt;
                &lt;ssh-config&gt;
                    &lt;host&gt;localhost&lt;/host&gt;
                    &lt;port&gt;22&lt;/port&gt;
                    &lt;auth&gt;
                        &lt;type&gt;password&lt;/type&gt;
                        &lt;user&gt;john&lt;/user&gt;
                        &lt;password&gt;doe&lt;/password&gt;
                    &lt;/auth&gt;
                &lt;/ssh-config&gt;

                &lt;access useDefaults="true" /&gt;

            &lt;/host&gt;
      &lt;/hosts&gt;
      </pre>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Nachdem Sie Änderungen an diesen Konfigurationen vorgenommen haben, müssen Sie den Cache leeren!</p>
        </td></tr>
</table></div>

        <pre class="screen"> #&gt; rm -rf app/cache/config/*.php</pre>

        <p>oder /path/to/clearcache.sh</p>

        <pre class="screen"> #&gt; /usr/local/icinga-web/bin/clearcache.sh</pre>
      </li>
<li class="listitem">
        <p><span class="bold"><strong>Apache-Konfiguration</strong></span></p>

        <p>Voraussetzungen:</p>

        <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
            <p>mod_rewrite, vielleicht müssen Sie einen Verweis erstellen:</p>

            <pre class="screen"> #&gt; ln -s /etc/apache2/mods-available/rewrite.load /etc/apache2/mods-enabled/rewrite.load</pre>

            <p>Bei OpenSuSE und SLES können Sie das Modul mit "a2enmod rewrite" aktivieren. Falls das nicht funktioniert, gibt es in der
            Datei <code class="filename">/etc/sysconfig/apache2</code> die Zeile "APACHE_MODULES=...", der das Modul "rewrite" hinzugefügt werden
            muss.</p>

            <p>Bei Debian und Ubuntu können Sie das Modul ebenfalls mit "a2enmod rewrite" aktivieren.</p>

            <p>Bei RHEL/Fedora/CentOS ist die Unterstützung bereits im httpd enthalten.</p>
          </li></ul></div>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>In 1.9 wurde die Datei <code class="filename">.htaccess</code> entfernt und die Optionen sind nun in der Apache-Konfiguration zu
          finden.</p>
        </td></tr>
</table></div>

        <p>Bitte wechseln Sie in das Konfigurationsverzeichnis Ihres Webservers. Überprüfen Sie, ob die mit <span class="bold"><strong>make
        install-apache-config</strong></span> erstellte Konfiguration Ihren Anforderungen entspricht, oder erstellen Sie noch einen neuen Alias
        im Konfigurationsverzeichnis des Webservers (hier in der <code class="filename">icinga-web.conf</code>):</p>

        <pre class="screen">#&gt; vi /etc/apache2/conf.d/icinga-web.conf</pre>
<p> </p>
<pre class="programlisting">#
# icinga-web apache configuration
# - Enable all options .htaccess
# - Add extjs library to alias
#

Alias /icinga-web/js/ext3 /usr/local/icinga-web/lib/ext3
Alias /icinga-web /usr/local/icinga-web/pub
&lt;Directory /usr/local/icinga-web/lib/ext3&gt;
    Order allow,deny
    Allow from all
&lt;/Directory&gt;
   Alias /icinga-web /usr/local/icinga-web/pub
  &lt;Directory /usr/local/icinga-web/pub&gt;
        AllowOverride All
  &lt;/Directory&gt;</pre>

        <p>Leeren Sie den Cache:</p>

        <pre class="screen"> #&gt; rm /usr/local/icinga-web/app/cache/config/*.php</pre>

        <p>oder /path/to/clearcache.sh</p>

        <pre class="screen"> #&gt; /usr/local/icinga-web/bin/clearcache.sh</pre>

        <p>und starten Sie den Webserver neu:</p>

        <pre class="screen"> #&gt; service apache2 restart</pre>

        <p>bzw.</p>

        <pre class="screen"> #&gt; /etc/init.d/apache2 restart</pre>

        <p>oder</p>

        <pre class="screen"> #&gt; /etc/init.d/httpd restart</pre>
      </li>
</ul></div>
  </div>

  <div class="section" title="6.5.5. Testen">
<div class="titlepage"><div><div><h3 class="title">
<a name="useit"></a>6.5.5. Testen</h3></div></div></div>
    

    <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
      <p>Bitte achten Sie darauf, dass Ihre Datenbank, Apache, IDOUtils und Icinga gestartet sind!</p>
    </td></tr>
</table></div>

    <p>Öffnen Sie im Webbrowser http://localhost/icinga-web. Überprüfen Sie, ob das Webinterface ohne Fehler ("exceptions") startet, und
    loggen Sie sich mit dem User 'root' und dem Passwort 'password' ein.</p>

    <p>Viel Spaß :-)</p>
  </div>

  <div class="section" title="6.5.6. Test &amp; Fehler?">
<div class="titlepage"><div><div><h3 class="title">
<a name="webtroubleshooting"></a>6.5.6. Test &amp; Fehler?</h3></div></div></div>
    

    <p>
      Diese Sammlung enthält einige nützliche Informationen, wie Sie Fehler finden und lösen können. Ebenso wird darauf hingewiesen,
    welche Informationen Sie im Fehlerfall angeben sollten, wenn Sie eine Frage auf den Mailinglisten oder auf <a class="link" href="http://www.icinga-portal.org" target="_top">http://www.icinga-portal.org</a> stellen.</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>Geben Sie immer die verwendete Version an - Paket, tar.gz oder GIT?</p>
      </li>
<li class="listitem">
        <p>Browser, Version</p>
      </li>
<li class="listitem">
        <p>Falls das Problem mit der Datenquelle besteht: Ausführliche Informationen zu API, IDOUtils, Core (Version, Debug Logs).</p>
      </li>
</ul></div>

    <p>Wo können Sie nachsehen?</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>Apache Error Logs, PHP Errors, PHP Dateien können nicht gefunden werden</p>
      </li>
<li class="listitem">
        <p><code class="filename">/var/log/messages</code>, /path/to/icinga/var/icinga.log</p>
      </li>
</ul></div>

    <p>Änderungen an der Icinga Web-Konfiguration (z.B. API/IDOUtils-Einstellungen geändert) werden nicht aktualisiert?</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
        <p>Löschen Sie den Konfigurationscache in app/cache/config/*.php</p>
      </li></ul></div>

    <pre class="screen"> /usr/local/icinga-web/bin/clearcache.sh</pre>

    <p>Icinga-Web zeigt eine leere Seite?</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>Apache Errors Logs =&gt; mod_rewrite enabled, PHP-Abhängigkeiten ok? 'make testdeps'. Bei Debian gibt es u.a. die folgende
        Fehlermeldung: ".htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server
        configuration"</p>
      </li>
<li class="listitem">
        <p>.htaccess/VHost-Konfiguration =&gt; Pfade nicht korrekt? Icinga-Web zeigt keine Daten?</p>
      </li>
<li class="listitem">
        <p>"Ich kann meinen neu installierten Cronk nicht sehen" oder "nach einem Update kann ich nicht auf das Reporting-Cronk
        zugreifen"</p>

        <p>Beginnend mit 1.8.2 gibt es einen neuen Session-Cache, der beim Update von Icinga Web bzw. der Installation eines neuen Cronks
        oder Moduls ggf. zu Irritationen führen kann. Die Lösung ist recht einfach</p>

        <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
            <p>Löschen Sie den xml-Cache</p>
          </li>
<li class="listitem">
            <p>Zurücksetzen des Applikationszustands des Benutzers (rechte obere Ecke -&gt; Preferences)</p>
          </li>
<li class="listitem">
            <p>Abmelden und neu anmelden (rechte obere Ecke)</p>

            <p><span class="inlinemediaobject"><img src="../images/icinga-web-user-prefs-logout.png"></span></p>
          </li>
</ul></div>
      </li>
</ul></div>

    <p>Icinga Web - Login erfolgt- aber die Seite lädt und lädt...</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>Request failed, Ressource /icinga-web/appkit/ext/application State could not be loaded - is the url correct? =&gt; mod_rewrite
        enabled ?</p>
      </li>
<li class="listitem">
        <p>Datenbankzugriff verweigert =&gt; Überprüfen Sie, ob die Datenbankeinstellungen für Icinga Web korrekt sind.</p>
      </li>
</ul></div>

    <p>IDOUtils-Datenbank wird nicht gefüllt?</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>"Error writing to data sink" =&gt; Überprüfen Sie die IDOUtils (ido2db läuft 2x - ok?), ido2db.cfg debug_level=-1,
        debug_verbosity=2, restarten Sie IDOUtils und suchen Sie Fehler in <code class="filename">ido2db.debug</code></p>
      </li>
<li class="listitem">
        <p>Keine Daten vorhanden =&gt; Überprüfen Sie <code class="filename">icinga.log</code>, ob IDOMOD zu Beginn geladen wird. Falls nicht,
        aktivieren Sie das Event Broker Modul in <code class="filename">icinga.cfg</code> so wie im Icinga Core im <a class="link" href="quickstart-idoutils.html" title="2.6. Icinga-Schnellstart mit IDOUtils">IDOUtils Quickstart Guide</a> beschrieben.</p>
      </li>
<li class="listitem">
        <p>IDOUtils DB-Schema ist die aktuellste Version? =&gt; Falls nicht, überprüfen Sie mögliche Upgrades anhand der Docs
        dafür.</p>
      </li>
<li class="listitem">
        <p>Sockets sind korrekt definiert? =&gt; Unix oder TCP Socket, TCP wahlweise mit oder ohne SSL</p>
      </li>
</ul></div>

    <p><span class="bold"><strong>Testing the Web (stellen Sie sicher, dass PHPUnit installiert ist): </strong></span></p>

    <pre class="screen"> $&gt; make test</pre>

    <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
      <p>Falls Sie Ihren root-Benutzer zum Testen benutzen, dann stellen Sie vorher sicher, dass für den angegebenen Web-Benutzer in der
      <code class="filename">/etc/passwd</code> eine gültige Shell eingetragen ist. Anderenfalls werden verschiedene Tests fehlschlagen. Abhängig von
      der verwendeten Icinga-Web-Version kann es sein, dass die Berechtigungen für die Dateien in
      <code class="filename">/usr/local/icinga-web/log</code> falsch gesetzt sind, so dass Icinga-Web mit der Meldung "Loading" stehenbleibt.</p>
    </td></tr>
</table></div>

    <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
      <p>Nicht vergessen - Ändern von PHP-Einstellungen in der <code class="filename">php.ini</code> erfordert einen Apache reload/restart!</p>
    </td></tr>
</table></div>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>PHP Fatal error: Allowed memory size of ... bytes exhausted (tried to allocate ... bytes) =&gt; Überprüfen Sie Ihre
        <code class="filename">php.ini</code> (apache2 und cli) und setzen Sie den Wert memory_limit auf 128M oder höher</p>
      </li>
<li class="listitem">
        <p>PHP Fatal error: Uncaught exception 'AgaviCacheException' with message 'Failed to write cache file
        /usr/local/icinga-web/app/cache/config/config_handlers.xml_development__xxxx.php" generated from configuration file
        /usr/local/icinga-web/app/config/config_handlers.xml". Please make sure you have set correct write permissions for directory
        /usr/local/icinga-web/app/cache.... =&gt; Setzen von safe_mode = off in /etc/php5/apache/php.ini.</p>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Das kann auch ein Hinweis auf ein aktiviertes SELinux sein.</p>
        </td></tr>
</table></div>
      </li>
<li class="listitem">
        <p>[PHP Error] strtotime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone
        setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning,
        you most likely misspelled the timezone identifier. We selected 'Europe/Berlin' for 'CEST/2.0/DST' instead [line 1548 of
        /home/xxx/icinga/icinga-web/lib/doctrine/lib/Doctrine/Record.php] =&gt; Sie müssen date.timezone in der <code class="filename">php.ini</code>
        definieren.</p>
      </li>
<li class="listitem">
        <p>-&gt; 500 internal server error! Uncaught exception AgaviException thrown! Your default timezone is 'System/Localtime', ... =
        &gt; Sie müssen date.timezone in der <code class="filename">php.ini</code> definieren.</p>
      </li>
<li class="listitem">
        <p>Keine Verbindung zur API. The API Connector returned the following message: getConnection failed: Database connection failed:
        SQLSTATE[28000] [1045] Access denied for user 'icinga'@'localhost' (using password: YES)) =&gt; Überprüfen Sie Ihre IDOUtils
        DB-Referenzen in der <code class="filename">ido2db.cfg</code> und fügen Sie diese in Ihre Icinga Web-Konfiguration als bevorzugte
        DB-Referenzen für Ihre IDO hinzu (siehe Konfiguration der Icinga API). Ab Icinga Web1.0.3 können die Werte direkt während des
        configure gesetzt werden.</p>
      </li>
<li class="listitem">
        <p>touch: cannot touch `/usr/local/icinga-web/.../cache/testfile.txt': Permission denied =&gt; Die Konfiguration in den
        xml-Dateien wird vom Framework ge-'pre-cached'. Daher müssen spezielle Berechtigungen für die Caching-Verzeichnisse gesetzt werden.
        Durch die Ausführung von icingaWebTesting.php in etc/tests können die richtigen Berechtigungen automatisch gesetzt werden.</p>
      </li>
<li class="listitem">
        <p>PHP Fatal error: Uncaught exception '...' with message 'Couldn't locate driver named mysql' =&gt; Stellen Sie sicher, dass php
        pdo installiert und geladen ist, auch wenn testdeps sagt, dass alles in Ordnung ist.</p>
      </li>
<li class="listitem">
        <p>Das Login wird nicht angezeigt =&gt; Aktivieren Sie short_open_tag in Ihrer <code class="filename">php.ini</code>. =&gt; Editieren Sie
        open_basedir in Ihrer <code class="filename">php.ini</code> und fügen Sie die Installationsverzeichnisse von Icinga Web und von Icinga API
        (z.B. <code class="filename">/usr/local/icinga/share/</code>) hinzu.</p>
      </li>
<li class="listitem">
        <p>Leeres Icinga Web? =&gt; Wenn mod_rewrite aktiviert ist und 'index.php' erscheint in der angefragten URL, dann funktioniert
        das Portal nicht. Entfernen Sie index.php aus Ihrer URL und alles sollte funktionieren</p>
      </li>
<li class="listitem">
        <p>Die Ergebnisse in den Status Cronks passen nicht zu Ihrer Konfiguration? =&gt; Überprüfen Sie in Ihrem Backend, d.h. IDOUtils
        DB, welche Werte für die Status-Tabellen selektiert werden.</p>
      </li>
<li class="listitem">
        <p>Keine Daten in den Cronks ? =&gt; Überprüfen Sie ob alle Berechtigungen korrekt gesetzt sind, insbesondere von log/. Weiterhin
		können Sie die angezeigten Daten in Ihrem Browser debuggen.</p>
      </li>
</ul></div>

    <p>Sofern Sie Fragen oder Updates haben, zögern Sie bitte nicht, uns diese mitzuteilen! :-)</p>

    <a class="indexterm" name="idm139734667619152"></a>

    <a class="indexterm" name="idm139734667617792"></a>
  </div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="cgicmd.html">Zurück</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch06.html">Nach oben</a></td>
<td width="40%" align="right"> <a accesskey="n" href="icinga-web-config.html">Weiter</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">6.4. Ausführen von Classic UI-Modulen (CGIs) auf der Kommandozeile </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td>
<td width="40%" align="right" valign="top"> 6.6. Konfigurationsübersicht Icinga Web</td>
</tr>
</table>
</div>
<P class="copyright">© 1999-2009 Ethan Galstad, 2009-2017 Icinga Development Team, https://www.icinga.com</P>
</body>
</html>
