<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>6.9. Integration von PNP4Nagios in das Icinga Web Frontend</title>
<link rel="stylesheet" href="../stylesheets/icinga-docs.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1">
<meta name="keywords" content="Supervision, Icinga, Nagios, Linux">
<link rel="home" href="index.html" title="Icinga Version 1.14 Dokumentation">
<link rel="up" href="ch06.html" title="Kapitel 6. Die Benutzeroberflächen">
<link rel="prev" href="icinga-web-introduction.html" title="6.8. Einführung in Icinga Web">
<link rel="next" href="ch07.html" title="Kapitel 7. Fortgeschrittene Themen">
<script src="../js/jquery-min.js" type="text/javascript"></script><script src="../js/icinga-docs.js" type="text/javascript"></script>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<CENTER><IMG src="../images/logofullsize.png" border="0" alt="Icinga" title="Icinga"></CENTER>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">6.9. Integration von PNP4Nagios in das Icinga Web Frontend</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="icinga-web-introduction.html">Zurück</a> </td>
<th width="60%" align="center">Kapitel 6. Die Benutzeroberflächen</th>
<td width="20%" align="right"> <a accesskey="n" href="ch07.html">Weiter</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="section" title="6.9. Integration von PNP4Nagios in das Icinga Web Frontend">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="icinga-web-pnp"></a>6.9. Integration von PNP4Nagios in das Icinga Web Frontend</h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section">6.9.1. <a href="icinga-web-pnp.html#installpnp">Installieren von PNP4Nagios</a></span></dt>
<dt><span class="section">6.9.2. <a href="icinga-web-pnp.html#templateextension">Template-Extensions</a></span></dt>
<dt><span class="section">6.9.3. <a href="icinga-web-pnp.html#idm139734667097328">Löschen des Cache</a></span></dt>
</dl></div>
  

  <p>Mit Hilfe dieser Anleitung können Sie PNP4Nagios in das Icinga Web-Frontend integrieren. Wenn Sie PNP4Nagios in das Icinga Classic UI
  integrieren möchten, lesen Sie bitte die PNP4Nagios <a class="link" href="http://docs.pnp4nagios.org/de/pnp-0.6/start" target="_top">Dokumentation.</a></p>

  <div class="figure">
<a name="idm139734667127824"></a><p class="title"><b>Abbildung 6.41. Expander-Icon</b></p>
<div class="figure-contents">
      

      <div class="mediaobject"><img src="../images/icinga-web-exp_1.png" alt="Expander-Icon"></div>
    </div>
</div>
<p><br class="figure-break"></p>

  <p>Links sehen Sie das "Expander"-Icon. Nach dem Klicken öffnet sich ein Balken (unterhalb des OK-Zeichens).</p>

  <div class="figure">
<a name="idm139734667124272"></a><p class="title"><b>Abbildung 6.42. Icon-Balken</b></p>
<div class="figure-contents">
      

      <div class="mediaobject"><img src="../images/icinga-web-exp_2.png" alt="Icon-Balken"></div>
    </div>
</div>
<p><br class="figure-break"></p>

  <p>Rechts im "PNP4Nagios"-Abschnitt gibt es zwei Buttons.</p>

  <div class="figure">
<a name="idm139734667120944"></a><p class="title"><b>Abbildung 6.43. PNP4Nagios-Icons</b></p>
<div class="figure-contents">
      

      <div class="mediaobject"><img src="../images/icinga-web-exp_3.png" alt="PNP4Nagios-Icons"></div>
    </div>
</div>
<p><br class="figure-break"></p>

  <p>Nach Rechts-Klick auf einen der beiden und auswählen von "Move into grid" wird das entsprechende Icon ins Raster verschoben.</p>

  <div class="figure">
<a name="idm139734667117488"></a><p class="title"><b>Abbildung 6.44. Icon verschieben in Raster</b></p>
<div class="figure-contents">
      

      <div class="mediaobject"><img src="../images/icinga-web-exp_4.png" alt="Icon verschieben in Raster"></div>
    </div>
</div>
<p><br class="figure-break"></p>

  <p>Auswählen des neuen Icons öffnet den PNP-Graphen in einem kleinen Fenster, das lediglich einen Zeitabschnitt anzeigt oder es wird
  ein neuer Reiter erstellt, in dem die übliche PNP-Ansicht zu sehen ist.</p>

  <p>Klicken auf"Setting" und auswählen von "Reset grid action icons" entfernt die eingefügten Icons und stellt die Standardansicht
  wieder her.</p>

  <div class="figure">
<a name="idm139734667113232"></a><p class="title"><b>Abbildung 6.45. Zurücksetzen von Icon-Einstellungen</b></p>
<div class="figure-contents">
      

      <div class="mediaobject"><img src="../images/icinga-web-exp_5.png" alt="Zurücksetzen von Icon-Einstellungen"></div>
    </div>
</div>
<p><br class="figure-break"></p>

  <div class="section" title="6.9.1. Installieren von PNP4Nagios">
<div class="titlepage"><div><div><h3 class="title">
<a name="installpnp"></a>6.9.1. Installieren von PNP4Nagios</h3></div></div></div>
    

    <div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
        <p>Installieren Sie PNP4Nagios wie in der PNP4Nagios-<a class="link" href="http://docs.pnp4nagios.org/de/pnp-0.6/start" target="_top">Dokumentation</a> beschrieben.</p>
      </li>
<li class="listitem">
        <p>Passen Sie die PNP4Nagios-Konfiguration auf Ihre Icinga-Konfiguration an. Wahrscheinlich müssen Sie hier ändern:
        </p>
<pre class="programlisting">#&gt; vi npcd.cfg
    user = icinga
    group = icinga
    log_file = /var/log/icinga/npcd.log
    perfdata_spool_dir = /var/icinga/spool/
    perfdata_file = /var/icinga/perfdata.dump</pre>
<p> </p>
<pre class="programlisting">#&gt; vi process_perfdata.cfg
    LOG_FILE = /var/log/icinga/perfdata.log
    XML_ENC = ISO-8859-1   # falls Sie Probleme mit Umlauten haben</pre>
<p> </p>
<pre class="programlisting">#&gt; vi config.php 
    $conf['nagios_base'] = "/icinga/cgi-bin";</pre>

        <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
          <p>Stellen Sie sicher, dass Sie bestehende Pfade benutzen, legen Sie sie an, falls notwendig, und/oder passen Sie die Angaben
          an Ihre Distribution an.</p>

          <p>Bitte überprüfen Sie, dass die command-Definitionen für "process-host-perfdata-file" und "process-service-perfdata-file"
          (wahrscheinlich in <code class="filename">etc/objects/commands.cfg</code>) auf das gleiche Zielverzeichnis zeigen, das in
          perfdata_spool_dir angegeben wurde.</p>
        </td></tr>
</table></div>
      </li>
</ol></div>
  </div>

  <div class="section" title="6.9.2. Template-Extensions">
<div class="titlepage"><div><div><h3 class="title">
<a name="templateextension"></a>6.9.2. Template-Extensions</h3></div></div></div>
    

    <p>Die PNP-Integration wurde mit diesen Extensions upgrade-sicher gemacht.</p>

    <p>Ausschnitt aus <code class="filename">INSTALL</code> in <code class="filename">contrib/PNP_Integration/</code></p>

    <pre class="screen">#&gt; cat contrib/PNP_Integration/INSTALL
    ************************
    * INSTALLATION
    ************************

    * To install this addon, simply copy both xml files under templateExtensions
    * to your icinga-webs app/modules/Cronks/data/xml/extensions folder
    * and clear the app/cache/CronkTemplates folder
    * To remove it, just delete the extension files and clear the cache folder again</pre>
<p><span class="emphasis"><em>Install Script</em></span></p>

    <p>Nachdem es sich lediglich um das Kopieren der beiden genannten Daten handelt, gibt es kein Skript. Sorry.</p>

    <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
        <p>Bitte beachten Sie, dass Sie das Addon nach einem Icinga-Web-Upgrade erneut installieren müssen.</p>
      </td></tr>
</table></div>
  </div>

  <div class="section" title="6.9.3. Löschen des Cache">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm139734667097328"></a>6.9.3. Löschen des Cache</h3></div></div></div>
    

    <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
      <p>Bitte denken Sie daran, dass Sie nach dem Editieren von *.xml-Dateien den Cache bereinigen müssen!</p>
    </td></tr>
</table></div>

    <pre class="programlisting">#&gt; rm -f app/cache/config/*.php</pre>

    <p>oder /path/to/clearcache.sh</p>

    <pre class="programlisting">#&gt; /usr/local/icinga-web/bin/clearcache.sh</pre>

    <p>Das war es auch schon, Sie sind fertig!</p>

    <a class="indexterm" name="idm139734667092976"></a>
  </div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="icinga-web-introduction.html">Zurück</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch06.html">Nach oben</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch07.html">Weiter</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">6.8. Einführung in Icinga Web </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td>
<td width="40%" align="right" valign="top"> Kapitel 7. Fortgeschrittene Themen</td>
</tr>
</table>
</div>
<P class="copyright">© 1999-2009 Ethan Galstad, 2009-2017 Icinga Development Team, https://www.icinga.com</P>
</body>
</html>
