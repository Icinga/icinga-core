<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>2.10. Icinga aktualisieren</title>
<link rel="stylesheet" href="../stylesheets/icinga-docs.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1">
<meta name="keywords" content="Supervision, Icinga, Nagios, Linux">
<link rel="home" href="index.html" title="Icinga Version 1.14 Dokumentation">
<link rel="up" href="ch02.html" title="Kapitel 2. Los geht's">
<link rel="prev" href="howtos.html" title="2.9. Links zu weiteren Howtos">
<link rel="next" href="upgrading_idoutils.html" title="2.11. IDOUtils-Datenbank aktualisieren">
<script src="../js/jquery-min.js" type="text/javascript"></script><script src="../js/icinga-docs.js" type="text/javascript"></script>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<CENTER><IMG src="../images/logofullsize.png" border="0" alt="Icinga" title="Icinga"></CENTER>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">2.10. Icinga aktualisieren</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="howtos.html">Zurück</a> </td>
<th width="60%" align="center">Kapitel 2. Los geht's</th>
<td width="20%" align="right"> <a accesskey="n" href="upgrading_idoutils.html">Weiter</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="section" title="2.10. Icinga aktualisieren">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="upgrading"></a>2.10. Icinga aktualisieren</h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section">2.10.1. <a href="upgrading.html#upgradepreviousrelease">Aktualisierung von Icinga</a></span></dt>
<dt><span class="section">2.10.2. <a href="upgrading.html#upgradenagios3x">Upgrade von Nagios 3.x</a></span></dt>
<dt><span class="section">2.10.3. <a href="upgrading.html#upgradenagios2x">Upgrade von Nagios 2.x</a></span></dt>
<dt><span class="section">2.10.4. <a href="upgrading.html#upgradefromrpm">Aktualisierung einer RPM-Installation</a></span></dt>
</dl></div>
  

  <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
    <p>Seit 1.8 finden Sie neue Konfigurationsoptionen, die in einer neuen Version hinzugefügt wurden, in
    <code class="filename">sample-config/updates/</code> sowie <code class="filename">module/idoutils/config/updates</code>, z.B.
    <code class="filename">cgi.cfg_added_1.7_to_1.8.cfg</code>.</p>

    <p><span class="color"><font color="red">Der Core wird unbekannte Macros nicht mehr "as is" belassen, sondern diese entfernen und
    eine Warnung ins Log schreiben.</font></span> Entweder korrigieren Sie die Konfiguration (falsche Macros, Dollarzeichen mit einem weiteren
    absichern) oder Sie setzen keep_unknown_macros=1 in der <code class="filename">icinga.cfg</code>-Datei, um zum alten Verhalten
    zurückzukehren.</p>

    <p>Die klassische GUI (Classic UI) liefert kein WAP Interface (statuswml.cgi) sowie keine 3D Statusmap (statuswrl.cgi) mehr mit, weil
    diese nicht mehr aktiv weiterentwickelt und verwendet werden. Aus diesem Grund wurden auch die Hostkonfigurationsattribute "vrml_image"
    und "3dcoords" als veraltet markiert.</p>

    <p>Bitte werfen Sie auch einen Blick in den Abschnitt "CHANGES" in der Datei <code class="filename">changelog</code>.</p>
  </td></tr>
</table></div>

  <a class="indexterm" name="idm139734678849936"></a>

  <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
    <p>Wenn Sie die IDOUtils benutzen, dann müssen Sie auch diese aktualisieren. Weitere Informationen finden Sie im Abschnitt
    <a class="link" href="upgrading_idoutils.html" title="2.11. IDOUtils-Datenbank aktualisieren">IDOUtils-Datenbank aktualisieren</a>.</p>
  </td></tr>
</table></div>

  <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
    <p>Wenn Sie Icinga Web benutzen, dann müssen Sie auch diese aktualisieren. Weitere Informationen finden Sie im Abschnitt <a class="link" href="upgrading_icingaweb.html" title="6.7. Aktualisierung von Icinga Web und Icinga Web Datenbank">Aktualisierung von Icinga-Web und Icinga-Web-Datenbank</a>.</p>
  </td></tr>
</table></div>

  <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
    <p>Seit 1.9 ist die Direktive <code class="literal">event_profiling_enabled</code> in <code class="filename">icinga.cfg</code> veraltet.</p>
  </td></tr>
</table></div>

  <div class="section" title="2.10.1. Aktualisierung von Icinga">
<div class="titlepage"><div><div><h3 class="title">
<a name="upgradepreviousrelease"></a>2.10.1. Aktualisierung von Icinga</h3></div></div></div>
    

    <p>Sobald neuere Versionen von Icinga herauskommen, sollten Sie dringend über eine Aktualisierung nachdenken. Neuere Ausgaben
    enthalten Behebungen kritischer Fehler, so dass es wichtig ist, aktuell zu sein. Wenn Sie bereits Icinga, wie in den
    Schnellstartanleitungen beschrieben, aus dem Quellcode installiert haben, dann können Sie einfach neuere Versionen installieren. Sie
    müssen dazu noch nicht einmal root-Berechtigungen haben, weil bereits alles passiert ist, was als root-Benutzer getan werden muss. Das
    ist allerdings abhängig davon, welche Präferenzen Sie diesbezüglich haben.</p>

    <p>Stellen Sie sicher, dass Sie eine gute Datensicherung Ihrer bestehenden Icinga-Installation und der Konfigurationsdateien
    haben. Wenn irgendetwas schief geht oder nicht funktioniert, dann können Sie auf diese Weise schnell Ihre alte Icinga-Version
    wiederherstellen.</p>

    <p>Werden Sie der icinga-Benutzer. Debian/Ubuntu-Benutzer sollten <code class="code">sudo -s icinga</code> benutzen.</p>

    <pre class="programlisting"> $&gt; su -l icinga</pre>

    <p>Holen Sie sich das Quellcode-Archiv der letzten Icinga-Version (besuchen Sie <a class="link" href="http://www.icinga.org/" target="_top">https://www.icinga.com/</a> für den Verweis auf die letzte Version) und entpacken Sie das
    Quellcode-Archiv.</p>

    <p>Starten Sie das Icinga-configure-Script mit den gleichen Optionen wie bei der letzten Installation, z.B. so:</p>

    <pre class="programlisting"> #&gt; ./configure --with-command-group=icinga-cmd</pre>

    <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
      <p>Beginnend mit Icinga 1.9 hat sich der Default geändert, so dass Sie die Kompilation der IDOUtils ggf. explizit
      verhindern müssen.</p>

      <pre class="programlisting"> #&gt; ./configure --with-command-group=icinga-cmd --disable-idoutils</pre>
    </td></tr>
</table></div>

    <p>Kompilieren Sie den Icinga-Quellcode.</p>

    <pre class="programlisting"> #&gt; make all</pre>

    <p>Installieren Sie aktualisierte Programme, Dokumentation und Web-Interface. Ihre vorhandenen Konfigurationsdaten werden in diesem
    Schritt nicht überschrieben.</p>

    <pre class="programlisting"> #&gt; make install install-base install-cgis install-html install-init install-commandmode install-idoutils</pre>

    <p>Überprüfen Sie Ihre Konfigurationsdateien und starten Sie Icinga erneut.</p>

    <pre class="programlisting"> #&gt; /etc/init.d/icinga checkconfig
 #&gt; /etc/init.d/icinga restart</pre>

    <p><span class="bold"><strong>Aktualisieren auf Apache 2.4</strong></span></p>

    <p>Beginnend mit Apache 2.4 hat sich der Standard-Konfigurationsordner von <code class="filename">/etc/apache2/conf.d</code> in
    <code class="filename">/etc/apache2/conf-available</code> geändert. Wenn Sie migrieren wollen, dann verschieben Sie einfach die Datei(en),
    aktivieren die Konfiguration(en) und starten den Web-Server neu</p>
<pre class="screen">#&gt; mv /etc/apache2/conf.d/icinga*.conf /etc/apache2/conf-available
#&gt; a2enconf icinga icinga-web
#&gt; service apache2 reload</pre>

    <div class="note" title="Anmerkung" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Anmerkung]" src="../images/note.png"></td>
<th align="left">Anmerkung</th>
</tr>
<tr><td align="left" valign="top">
      <p>Hinter <code class="literal">a2enconf</code> geben Sie die Konfiguration(en) an. Das Beispiel nimmt an, dass Sie Icinga Classic UI und
      Icinga Web installiert haben.</p>
    </td></tr>
</table></div>

    <p>Außerdem ist das CGI-Modul zu aktivieren</p>

    <pre class="screen">#&gt; a2enmod cgi</pre>

    <p>Das war's - Sie sind fertig!</p>

    <a class="indexterm" name="idm139734678825824"></a>
  </div>

  <div class="section" title="2.10.2. Upgrade von Nagios 3.x">
<div class="titlepage"><div><div><h3 class="title">
<a name="upgradenagios3x"></a>2.10.2. Upgrade von Nagios 3.x</h3></div></div></div>
    

    <p>Icinga ist aus Nagios 3.x hervorgegangen, so dass die Aktualisierung problemlos sein sollte.</p>

    <p>Falls Sie einen Upgrade von Nagios-Version 3.0.x durchführen, dann fehlt Ihnen ggf. PHP.</p>

    <p><span class="emphasis"><em>Debian / Ubuntu</em></span> </p>
<pre class="programlisting"> #&gt; apt-get install php5 libapache2-mod-php5</pre>

    <p><span class="emphasis"><em>Fedora / RedHat</em></span></p>

    <pre class="programlisting"> #&gt; yum install php mod_php</pre>

    <p><span class="emphasis"><em>openSuSE / SLES:</em></span> Nutzen Sie yast zur Installation der Pakete <span class="emphasis"><em>php5</em></span> und
    <span class="emphasis"><em>apache2-mod_php5</em></span> oder benutzen Sie zypper</p>

    <pre class="programlisting"> #&gt; zypper install php5 apache2-mod_php5</pre>

    <p>Stellen Sie sicher, dass Sie eine gute Datensicherung Ihrer bestehenden Nagios-Installation und der Konfigurationsdateien
    haben. Wenn irgendetwas schief geht oder nicht funktioniert, dann können Sie auf diese Weise schnell Ihre alte Nagios-Version
    wiederherstellen.</p>

    <p>Bitte installieren Sie Icinga anhand der <a class="link" href="quickstart.html" title="2.3. Schnellstart-Installationsanleitungen">Schnellstart-Anleitung</a>. Bitte beachten Sie,
    dass</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>der Default-Präfix nun "<code class="filename">/usr/local/icinga</code>" heißt</p>
      </li>
<li class="listitem">
        <p>die Umgebungs-Makros nun mit ICINGA_ beginnen</p>

        <p>PNP4Nagios berücksichtigt das seit 0.6rc1 (2009.09.20), aber Sie benötigen die Makros lediglich im "sync"-Modus.</p>

        <p>check_multi bietet Unterstützung seit 0.21 (2010.06.03), aber Sie müssen dazu die Installation mit beginnend mit dem Schritt
        '<code class="code">configure --with-nagios_name=icinga</code>' erneut durchführen, damit die check_multi-Prozedur mit geänderten Werten erstellt
        wird. Stattdessen können Sie auch die Option "-s" zur Übergabe von Werten benutzen.</p>
      </li>
<li class="listitem">
        <p>die Konfigurationsdateien der (verbesserten) IDOUtils heißen nun <code class="filename">idomod.cfg/ido2db.cfg</code> anstatt
        <code class="filename">ndomod.cfg/ndo2db.cfg</code></p>
      </li>
</ul></div>

    <p>Werden Sie der nagios-Benutzer. Debian/Ubuntu-Benutzer sollten <span class="emphasis"><em>sudo -s nagios</em></span> benutzen.</p>

    <pre class="programlisting"> $ su -l nagios</pre>

    <p>Holen Sie sich das Quellcode-Archiv der letzten Icinga-Version (besuchen Sie <a class="link" href="http://www.icinga.org//" target="_top">https://www.icinga.com/</a> für den Verweis auf die letzte Version).</p>

    <pre class="programlisting"> #&gt; wget https://github.com/Icinga/icinga-core/releases/download/v<span class="emphasis"><strong>1.14</strong></span>/icinga-<span class="emphasis"><strong>1.14</strong></span>.tar.gz</pre>

    <p>Entpacken Sie das Quellcode-Archiv.</p>

    <pre class="programlisting"> #&gt; tar xzf icinga-<span class="emphasis"><strong>1.14</strong></span>.tar.gz
 #&gt; cd icinga-<span class="emphasis"><strong>1.14</strong></span> </pre>

    <p>Starten Sie das Icinga-configure-Script mit den Optionen, die Sie beim <code class="code">./configure</code> von Nagios benutzt
    haben. Den Aufruf finden Sie in der Datei <code class="filename">config.log</code>. Beispiel:</p>

    <pre class="programlisting"> #&gt; ./configure --with-command-group=nagcmd</pre>

    <p>Kompilieren Sie den Icinga-Quellcode.</p>

    <pre class="programlisting"> #&gt; make all</pre>

    <p>Installieren Sie aktualisierte Programme, Dokumentation, Web-Interface und das Init-Script. Ihre vorhandenen Konfigurationsdaten
    werden in diesem Schritt nicht überschrieben.</p>

    <pre class="programlisting"> #&gt; make cgis
 #&gt; make install
 #&gt; make install-cgis
 #&gt; make install-init</pre>

    <p>oder einfach</p>

    <pre class="programlisting"> #&gt; make fullinstall</pre>

    <div class="important" title="Wichtig" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Wichtig]" src="../images/important.png"></td>
<th align="left">Wichtig</th>
</tr>
<tr><td align="left" valign="top">
      <p>Erst ab Icinga 1.5.0 ist <code class="literal">make install-config</code> NICHT mehr in <code class="literal">make fullinstall </code>
      enthalten, um ein versehentliches Überschreiben der Konfigurationsdateien zu verhindern.</p>
    </td></tr>
</table></div>

    <p>Kopieren Sie Ihre Konfigurationsdateien nach <code class="filename">/usr/local/icinga/etc</code> bzw.
    <code class="filename">/usr/local/icinga/etc/object</code>. Vor dem Start von Icinga müssen Sie noch ein paar Dinge anpassen:</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>Benennen Sie die Hauptkonfigurationsdatei <code class="filename">nagios.cfg</code> in <code class="filename">icinga.cfg</code> um und ändern Sie
        in <code class="filename">/usr/local/icinga/etc/icinga.cfg</code> die Namen der Direktiven "nagios_user" in "icinga_user" und "nagios_group" in
        "icinga_group". Das betrifft ggf. auch die Pfade in der Datei.</p>

        <pre class="programlisting"> #&gt; sed -i 's/nagios/icinga/g' ./icinga.cfg/</pre>
      </li>
<li class="listitem">
        <p>Ändern Sie in der CGI-Konfigurationsdatei <code class="filename">cgi.cfg</code> die Pfad-Angaben.</p>

        <pre class="programlisting"> #&gt; sed -i 's/nagios/icinga/g' ./cgi.cfg/</pre>
      </li>
</ul></div>

    <p>Kopieren Sie andere relevante Dateien von Ihrer Nagios-Installation zum neuen Standort. Falls Sie unsicher bezüglich der
    Pfade sind, dann werfen Sie einen Blick in die Konfigurationsdateien <code class="filename">nagios.cfg</code> und/oder
    <code class="filename">icinga.cfg</code>.</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p><code class="filename">retention.dat</code> (sie enthält bestimmte Statusinformationen, Kommentare und andere "bleibende" Dinge)</p>
      </li>
<li class="listitem">
        <p><code class="filename">nagios.log</code> (bitte umbenennen in <code class="filename">icinga.log</code>)</p>
      </li>
<li class="listitem">
        <p><code class="filename">archives/nagios-&lt;date&gt;.log</code>-Dateien (Icinga ist in der Lage, sowohl nagios-&lt;date&gt;.log
        als auch icinga-&lt;date&gt;.log-Dateien zu verarbeiten, so dass Sie die Dateien nicht umbenennen müssen)</p>
      </li>
<li class="listitem">
        <p>Sie müssen die Dateien <code class="filename">status.dat</code> und/oder <code class="filename">objects.cache</code> nicht kopieren, weil sie
        jeweils beim Neustart erstellt werden. Bitte erstellen Sie <code class="filename">objects.precache</code> vor dem Neustart <a class="link" href="configmain.html#configmain-precached_object_file">(falls nötig)</a> anstatt die Datei zu kopieren</p>
      </li>
</ul></div>

    <p>Überprüfen Sie Ihre Konfigurationsdateien und starten Sie Icinga.</p>

    <pre class="programlisting"> #&gt; /usr/local/icinga/bin/icinga -v /usr/local/icinga/etc/icinga.cfg
 #&gt; /etc/init.d/icinga start</pre>

    <p>Das war's - Sie sind fertig!</p>

    <p>Bitte beachten Sie, dass</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>der Aufruf im Browser nun http://localhost/icinga/ lautet (für das klassische UI)</p>
      </li>
<li class="listitem">
        <p>der Name des Admin-Benutzers nun icingaadmin lautet</p>
      </li>
</ul></div>

    <a class="indexterm" name="idm139734678776528"></a>

    <a class="indexterm" name="idm139734678776368"></a>

    <a class="indexterm" name="idm139734678773232"></a>
  </div>

  <div class="section" title="2.10.3. Upgrade von Nagios 2.x">
<div class="titlepage"><div><div><h3 class="title">
<a name="upgradenagios2x"></a>2.10.3. Upgrade von Nagios 2.x</h3></div></div></div>
    

    <p>Es sollte nicht allzu schwierig sein, von Nagios 2.x auf Icinga 1.14 zu aktualisieren. Die Aktualisierung
    ist im Wesentlichen die gleiche wie die von bestehenden Nagios 3.x-Versionen. Allerdings müssen Sie Ihre Konfigurationsdateien
    ein wenig ändern, damit sie mit Icinga 1.14 funktionieren:</p>

    <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
        <p>Die alte <span class="emphasis"><em>service_reaper_frequency</em></span>-Variable in der Hauptkonfigurationsdatei wurde umbenannt in <a class="link" href="configmain.html#configmain-check_result_reaper_frequency">check_result_reaper_frequency</a>.</p>
      </li>
<li class="listitem">
        <p>Das alte <span class="emphasis"><em>$NOTIFICATIONNUMBER$</em></span>-Makro entfällt zugunsten der <a class="link" href="macrolist.html#macrolist-hostnotificationnumber">$HOSTNOTIFICATIONNUMBER$</a>- und <a class="link" href="macrolist.html#macrolist-servicenotificationnumber">$SERVICENOTIFICATIONNUMBER$</a>-Makros.</p>
      </li>
<li class="listitem">
        <p>Die alte <span class="emphasis"><em>parallelize</em></span>-Direktive in Service-Definitionen ist veraltet und wird nicht länger benutzt, weil
        alle Service-Prüfungen parallel ablaufen.</p>
      </li>
<li class="listitem">
        <p>Die alte <span class="emphasis"><em>aggregate_status_updates</em></span>-Option wurde entfernt. Alle Statusdatei-Aktualisierungen werden nun mit
        einem minimalen Intervall von einer Sekunde zusammengefasst.</p>
      </li>
<li class="listitem">
        <p>Erweiterte Host- und erweiterte Service-Definitionen sind veraltet. Sie werden noch von Icinga gelesen und verarbeitet,
        aber es wird empfohlen, dass Sie diese Direktiven in die entsprechenden Host- und Service-Definitionen verschieben.</p>
      </li>
<li class="listitem">
        <p>Die alte <span class="emphasis"><em>downtime_file</em></span>-Dateivariable in der Hauptkonfigurationsdatei wird nicht länger unterstützt, weil
        Einträge von geplanten Ausfallzeiten (downtimes) nun in der <a class="link" href="configmain.html#configmain-state_retention_file">Aufbewahrungsdatei</a> (retention file) gespeichert werden. Um bestehende Einträge zu
        erhalten, stoppen Sie Nagios 2.x und hängen Sie den Inhalt Ihrer alten Downtime-Datei an das "retention file".</p>
      </li>
<li class="listitem">
        <p>Die alte <span class="emphasis"><em>comment_file</em></span>-Dateivariable in der Hauptkonfigurationsdatei wird nicht länger unterstützt, weil
        Kommentare nun in der <a class="link" href="configmain.html#configmain-state_retention_file">Aufbewahrungsdatei</a> (retention file) gespeichert werden.
        Um bestehende Einträge zu erhalten, stoppen Sie Nagios 2.x und hängen Sie den Inhalt Ihrer alten Kommentar-Datei an die
        "Aufbewahrungsdatei" (retention file).</p>
      </li>
<li class="listitem">
        <p>Die Hauptkonfigurationsdatei heißt nun icinga.cfg. Innerhalb der Datei ist "nagios_user" gegen "icinga_user" und nagios_group"
        gegen "icinga_group" auszutauschen.</p>
      </li>
</ul></div>

    <p>Stellen Sie außerdem sicher, dass Sie den "<a class="link" href="whatsnew.html" title="1.2. What's New in Icinga 1.14">Was gibt's Neues</a>"-Abschnitt in der Dokumentation lesen.
    Er beschreibt all die Änderungen am Icinga-Code.</p>
  </div>

  <div class="section" title="2.10.4. Aktualisierung einer RPM-Installation">
<div class="titlepage"><div><div><h3 class="title">
<a name="upgradefromrpm"></a>2.10.4. Aktualisierung einer RPM-Installation</h3></div></div></div>
    

    <p>Wenn Sie momentan eine RPM- oder Debian/Ubuntu-APT-paketbasierte Nagios-Installation haben und nun den
    Übergang zu einer Installation aus dem offiziellen Quellcode machen wollen, dann sind hier die grundlegenden Schritte:</p>

    <div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
        <p>Sichern Sie Ihre existierende Nagios-Installation</p>
      </li>
<li class="listitem">
        <p>Konfigurationsdateien</p>

        <div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
              <div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem">
                    <p>Hauptkonfigurationsdatei (normalerweise <code class="filename">nagios.cfg</code>)</p>
                  </li>
<li class="listitem">
                    <p>Ressource-Konfigurationsdatei (normalerweise <code class="filename">resource.cfg</code>)</p>
                  </li>
<li class="listitem">
                    <p>CGI-Konfigurationsdatei (normalerweise <code class="filename">cgi.cfg</code>)</p>
                  </li>
<li class="listitem">
                    <p>all Ihre Objektdefinitionsdateien</p>
                  </li>
</ul></div>
            </li>
<li class="listitem">
              <p>Aufbewahrungsdatei (normalerweise <code class="filename">retention.dat</code>)</p>
            </li>
<li class="listitem">
              <p>die aktuelle Nagios-Protokolldatei (normalerweise <code class="filename">nagios.log</code>)</p>
            </li>
<li class="listitem">
              <p>archivierte Nagios-Protokolldateien</p>
            </li>
</ul></div>
      </li>
<li class="listitem">
        <p>Deinstallieren Sie die originalen RPM- oder APT-Pakete</p>
      </li>
<li class="listitem">
        <p>Installieren Sie Icinga aus dem Quellcode, indem Sie der <a class="link" href="quickstart.html" title="2.3. Schnellstart-Installationsanleitungen">Schnellstartanleitung</a>
        folgen</p>
      </li>
<li class="listitem">
        <p>Sichern Sie Ihre Original-Nagios-Konfigurationsdateien, Aufbewahrungs- und Protokolldateien wieder zurück</p>
      </li>
<li class="listitem">
        <p>Benennen Sie die Hauptkonfigurationsdatei <code class="filename">nagios.conf</code> in <code class="filename">icinga.conf</code> um und ändern
        Sie in /usr/local/icinga/etc/icinga.cfg die Namen der Direktiven "nagios_user" in "icinga_user" und "nagios_group" in "icinga_group".</p>
      </li>
<li class="listitem">
        <p><a class="link" href="verifyconfig.html" title="4.1. Überprüfen Ihrer Icinga-Konfiguration">Überprüfen</a> Sie Ihre Konfiguration und <a class="link" href="startstop.html" title="4.2. Icinga starten und stoppen">starten</a> Sie
        Icinga</p>
      </li>
</ol></div>

    <p>Beachten Sie, dass verschiedene RPM- oder APT-Pakete Nagios auf verschiedene Weisen oder an verschiedenen Orten
    installieren. Stellen Sie sicher, dass Sie all Ihre kritischen Nagios-Dateien gesichert haben, bevor Sie das Original-RPM- oder
    APT-Paket entfernen, so dass Sie darauf zurückgreifen können, wenn Sie auf Probleme stoßen.</p>

    <a class="indexterm" name="idm139734678730688"></a>

    <a class="indexterm" name="idm139734678728784"></a>
  </div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="howtos.html">Zurück</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch02.html">Nach oben</a></td>
<td width="40%" align="right"> <a accesskey="n" href="upgrading_idoutils.html">Weiter</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">2.9. Links zu weiteren Howtos </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td>
<td width="40%" align="right" valign="top"> 2.11. IDOUtils-Datenbank aktualisieren</td>
</tr>
</table>
</div>
<P class="copyright">© 1999-2009 Ethan Galstad, 2009-2017 Icinga Development Team, https://www.icinga.com</P>
</body>
</html>
